(function(t){function e(e){for(var a,r,s=e[0],l=e[1],c=e[2],f=0,h=[];f<s.length;f++)r=s[f],i[r]&&h.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0384":function(t,e,n){"use strict";var a=n("c454"),i=n.n(a);i.a},2804:function(t,e,n){},3337:function(t,e,n){},"3fe3":function(t,e,n){t.exports=n.p+"static/img/Group_12@2x.e9a0244c.png"},"4ee2":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("3e2e"),n("c29f"),n("ea5e"),n("1f70");var a,i,o=n("eaf6"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],l=(n("4ee2"),n("fd0e"),{name:"App"}),c=l,u=(n("7c55"),n("17cc")),f=Object(u["a"])(c,r,s,!1,null,null,null),h=f.exports,d=n("1e6f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home display_flex flex-direction_column justify-content_flex-justify"},[a("div",{staticClass:"title display_flex align-items_center"},[a("img",{staticClass:"logo",attrs:{src:n("3fe3"),alt:""}}),a("h2",{staticClass:"logoText"},[t._v("万佳安·值得看智慧零售")]),a("time-view",{staticClass:"logoTime",attrs:{realTime:t.screenInfo.this_time}})],1),a("div",{staticClass:"content display_flex justify-content_flex-justify"},[a("custom-div",{staticClass:"item t1 flex_1 display_flex flex-direction_column"},[a("p",[t._v("服务用户")]),a("div",{staticClass:"base-content display_flex justify-content_flex-justify"},[a("custom-div",{staticClass:"cl-content display_flex flex-direction_column",attrs:{showPoint:!1,WOrH:t.WOrh}},[a("p",{staticClass:"ct-title"},[t._v(t._s(t.homeInfo.servInfo[0].title))]),a("text-view",{staticClass:"cc-num",attrs:{startVal:t.homeInfo.servInfo[0].localnum,endVal:t.homeInfo.servInfo[0].num,decimals:t._f("decimalsFilter")(t.homeInfo.servInfo[0].num),badgeNum:t.homeInfo.servInfo[0].badge}}),a("p",{staticClass:"cb-bot"},[t._v("同比 "+t._s(t.homeInfo.servInfo[0].percent))])],1),a("custom-div",{staticClass:"cr-content display_flex flex-direction_column",attrs:{showPoint:!1,WOrH:t.WOrh}},[a("p",{staticClass:"ct-title"},[t._v(t._s(t.homeInfo.servInfo[1].title))]),a("text-view",{staticClass:"cc-num",attrs:{startVal:t.homeInfo.servInfo[1].localnum,endVal:t.homeInfo.servInfo[1].num,decimals:t._f("decimalsFilter")(t.homeInfo.servInfo[1].num),badgeNum:t.homeInfo.servInfo[1].badge}}),a("p",{staticClass:"cb-bot visili"},[t._v("同比 "+t._s(t.homeInfo.servInfo[1].percent))])],1)],1)]),a("custom-div",{staticClass:"item t2 flex_1 display_flex flex-direction_column"},[a("p",[t._v("今日交易额")]),a("div",{staticClass:"base-content display_flex justify-content_flex-justify"},[a("custom-div",{staticClass:"cl-content display_flex flex-direction_column",attrs:{showPoint:!1,WOrH:t.WOrh}},[a("p",{staticClass:"ct-title"},[t._v(t._s(t.homeInfo.todayInfo[0].title))]),a("text-view",{staticClass:"cc-num",attrs:{startVal:t.homeInfo.todayInfo[0].localnum,endVal:t.homeInfo.todayInfo[0].num,decimals:t._f("decimalsFilter")(t.homeInfo.todayInfo[0].num),badgeNum:t.homeInfo.todayInfo[0].badge}}),a("p",{staticClass:"cb-bot"},[t._v("同比 "+t._s(t.homeInfo.todayInfo[0].percent))])],1),a("custom-div",{staticClass:"cr-content display_flex flex-direction_column",attrs:{showPoint:!1,WOrH:t.WOrh}},[a("p",{staticClass:"ct-title"},[t._v(t._s(t.homeInfo.todayInfo[1].title))]),a("text-view",{staticClass:"cc-num",attrs:{startVal:t.homeInfo.todayInfo[1].localnum,endVal:t.homeInfo.todayInfo[1].num,decimals:t._f("decimalsFilter")(t.homeInfo.todayInfo[1].num),badgeNum:t.homeInfo.todayInfo[1].badge}}),a("p",{staticClass:"cb-bot"},[t._v("同比 "+t._s(t.homeInfo.todayInfo[1].percent))])],1)],1)]),a("custom-div",{staticClass:"item t3 flex_1 display_flex flex-direction_column"},[a("p",[t._v("累计交易额")]),a("div",{staticClass:"base-content display_flex justify-content_flex-justify"},[a("custom-div",{staticClass:"cl-content display_flex flex-direction_column",attrs:{showPoint:!1,WOrH:t.WOrh}},[a("p",{staticClass:"ct-title"},[t._v(t._s(t.homeInfo.cumulative[0].title))]),a("text-view",{staticClass:"cc-num",attrs:{startVal:t.homeInfo.cumulative[0].localnum,endVal:t.homeInfo.cumulative[0].num,decimals:t._f("decimalsFilter")(t.homeInfo.cumulative[0].num),badgeNum:t.homeInfo.cumulative[0].badge}}),a("p",{staticClass:"cb-bot visili"},[t._v("同比 "+t._s(t.homeInfo.cumulative[0].percent))])],1),a("custom-div",{staticClass:"cr-content display_flex flex-direction_column",attrs:{showPoint:!1,WOrH:t.WOrh}},[a("p",{staticClass:"ct-title"},[t._v(t._s(t.homeInfo.cumulative[1].title))]),a("text-view",{staticClass:"cc-num",attrs:{startVal:t.homeInfo.cumulative[1].localnum,endVal:t.homeInfo.cumulative[1].num,decimals:t._f("decimalsFilter")(t.homeInfo.cumulative[1].num),badgeNum:t.homeInfo.cumulative[1].badge}}),a("p",{staticClass:"cb-bot visili"},[t._v("同比 "+t._s(t.homeInfo.cumulative[1].percent))])],1)],1)]),a("custom-div",{staticClass:"item t4 flex_1"},[a("p",{ref:"title"},[t._v("实时订单")]),a("div",{ref:"stitle",staticClass:"order-item order-title display_flex justify-content_flex-justify"},[a("p",[t._v("商品名称")]),a("p",[t._v("下单时间")]),a("p",[t._v("交易金额")])]),a("transition-group",{attrs:{name:"fade",tag:"ul"}},t._l(t.orderData,function(e,n){return a("li",{directives:[{name:"show",rawName:"v-show",value:n<t.liItemLength,expression:"index < liItemLength"}],key:e.order_id,staticClass:"order-item display_flex justify-content_flex-justify"},[a("p",{staticClass:"oneLine"},[t._v(t._s(e.sku_name))]),a("p",{staticClass:"oneLine"},[t._v(t._s(e.add_time))]),a("p",{staticClass:"oneLine"},[t._v("¥"+t._s(e.real_amount))])])}),0)],1)],1),a("div",{ref:"bottomdiv",staticClass:"bottom flex_1 display_flex justify-content_flex-justify"},[a("div",{staticClass:"item"},[a("custom-div",{staticClass:"top-custom display_flex flex-direction_column",scopedSlots:t._u([{key:"default",fn:function(){return[a("p",[t._v("工单状态")]),a("pie-chart",{staticClass:"pie",attrs:{pieData:t.workOrderPie}})]},proxy:!0}])}),a("custom-div",{staticClass:"bot-custom display_flex flex-direction_column",scopedSlots:t._u([{key:"default",fn:function(){return[a("p",[t._v("近7日工单")]),a("line-chart",{staticClass:"line",attrs:{lineData:t.screenInfo.work_order_lines}})]},proxy:!0}])})],1),a("div",{staticClass:"main"},[a("div",{staticClass:"map-info display_flex"},[a("custom-div",{staticClass:"map-info-item display_flex flex-direction_column align-items_center",attrs:{showPoint:!1,WOrH:t.WOrh},scopedSlots:t._u([{key:"default",fn:function(){return[a("text-view",{staticClass:"num",attrs:{color:"#73FFFE",startVal:0,endVal:t.servNum.servNum}}),a("p",{staticClass:"name"},[t._v("服务商(家)")])]},proxy:!0}])}),a("custom-div",{staticClass:"map-info-item display_flex flex-direction_column align-items_center",attrs:{showPoint:!1,WOrH:t.WOrh},scopedSlots:t._u([{key:"default",fn:function(){return[a("text-view",{staticClass:"num",attrs:{color:"#F1FEA6",startVal:0,endVal:t.servNum.shopNum}}),a("p",{staticClass:"name"},[t._v("零售商(家)")])]},proxy:!0}])}),a("custom-div",{staticClass:"map-info-item display_flex flex-direction_column align-items_center",attrs:{showPoint:!1,WOrH:t.WOrh},scopedSlots:t._u([{key:"default",fn:function(){return[a("text-view",{staticClass:"num",attrs:{color:"#6FF9BC",startVal:0,endVal:t.servNum.afterSale}}),a("p",{staticClass:"name"},[t._v("售后工程师(人)")])]},proxy:!0}])})],1),a("CityMap")],1),a("div",{staticClass:"item"},[a("custom-div",{staticClass:"top-custom display_flex flex-direction_column",scopedSlots:t._u([{key:"default",fn:function(){return[a("p",[t._v("订单状态")]),a("pie-chart",{staticClass:"pie",attrs:{pieData:t.orderPie}})]},proxy:!0}])}),a("custom-div",{staticClass:"bot-custom display_flex flex-direction_column",scopedSlots:t._u([{key:"default",fn:function(){return[a("p",{ref:"ultwo"},[t._v("热销品排行")]),a("transition-group",{attrs:{name:"fade",tag:"ul"}},t._l(t.screenInfo.goods,function(e,n){return a("li",{directives:[{name:"show",rawName:"v-show",value:n<t.liItem2Length,expression:"index < liItem2Length"}],key:n,staticClass:"order-item display_flex justify-content_flex-justify"},[a("p",{staticClass:"oneLine"},[t._v(t._s(e.name))]),a("p",{staticClass:"oneLine"},[t._v(t._s(e.sales))])])}),0)]},proxy:!0}])})],1)])])},p=[],g=(n("e71a"),n("1b79"),n("d027"),n("2804"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"custom-div"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showPoint,expression:"showPoint"}],staticClass:"point"}),n("div",{staticClass:"horn rtl",style:{width:t.WOrH.width+"px",height:t.WOrH.height+"px"}}),n("div",{staticClass:"horn rtr",style:{width:t.WOrH.width+"px",height:t.WOrH.height+"px"}}),n("div",{staticClass:"horn rbl",style:{width:t.WOrH.width+"px",height:t.WOrH.height+"px"}}),n("div",{staticClass:"horn rbr",style:{width:t.WOrH.width+"px",height:t.WOrH.height+"px"}}),t._t("default")],2)}),v=[],y={name:"customDiv",data:function(){return{}},props:{showPoint:{type:Boolean,default:function(){return!0}},WOrH:{type:Object,default:function(){return{width:40,height:40}}}}},b=y,x=(n("b22b"),Object(u["a"])(b,g,v,!1,null,"7601b274",null)),_=x.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"textview"},[n("p",{style:{color:t.color}},[t._v(t._s(t.displayValue)+"\n        "),t.badgeNum>0?n("span",{style:{color:t.color}},[t._v("+"+t._s(t.badgeNum)+"\n        ")]):t._e()])])},I=[],C=(n("fa26"),0),O="webkit moz ms o".split(" "),j="undefined"===typeof window;if(j)a=function(){},i=function(){};else{var S;a=window.requestAnimationFrame,i=window.cancelAnimationFrame;for(var V=0;V<O.length;V++){if(a&&i)break;S=O[V],a=a||window[S+"RequestAnimationFrame"],i=i||window[S+"CancelAnimationFrame"]||window[S+"CancelRequestAnimationFrame"]}a&&i||(a=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-C)),a=window.setTimeout(function(){t(e+n)},n);return C=e+n,a},i=function(t){window.clearTimeout(t)})}var F={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:0},badgeNum:{type:Number,required:!1,default:0},color:{type:String,required:!1,default:""},badgeColor:{type:String,required:!1,default:""},duration:{type:Number,required:!1,default:1e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,n,a){return n*(1-Math.pow(2,-10*t/a))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=a(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){i(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,a(this.count)},reset:function(){this.startTime=null,i(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.endVal-this.localStartVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=a(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),n=e[0],a=e.length>1?this.decimal+e[1]:"",i=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))while(i.test(n))n=n.replace(i,"$1"+this.separator+"$2");return this.prefix+n+a+this.suffix}},destroyed:function(){i(this.rAF)}},k=F,D=(n("d4c8"),Object(u["a"])(k,w,I,!1,null,"42b3f375",null)),N=D.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(t._s(t._f("timeFilter")(t.currentTime)))])},P=[];n("370b");function A(t,e){if(""==e||null==e||""==t)return"";if("string"==typeof e){e=e.replace("T"," ");/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)&&(e=e.replace(/\-/g,"/")),!1===e.indexOf("-")&&!1===e.indexOf("/")||(e=new Date(e).getTime())}if(10==e.toString().length&&(e*=1e3),e=parseInt(e),13!=e.toString().length)return"";var n=new Date(e),a=function(t,e){return(t+="").length<e?new Array(++e-t.length).join("0")+t:t},i=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],o={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"},r=["","January","February","March","April","May","June","July","August","September","October","November","December"],s={d:function(){return a(s.j(),2)},D:function(){return s.l().substr(0,3)},j:function(){return n.getDate()},l:function(){return i[s.w()]},N:function(){return s.w()+1},S:function(){return o[s.j()]?o[s.j()]:"th"},w:function(){return n.getDay()},z:function(){return(n-new Date(n.getFullYear()+"/1/1"))/864e5>>0},F:function(){return r[s.n()]},m:function(){return a(s.n(),2)},M:function(){return s.F().substr(0,3)},n:function(){return n.getMonth()+1},t:function(){var t;return 2==(t=n.getMonth()+1)?28+s.L():1&t&&t<8||!(1&t)&&t>7?31:30},L:function(){var t=s.Y();return 3&t||!(t%100)&&t%400?0:1},Y:function(){return n.getFullYear()},y:function(){return(n.getFullYear()+"").slice(2)},a:function(){return l(n)>11?"pm":"am"},A:function(){return s.a().toUpperCase()},B:function(){var t=60*(n.getTimezoneOffset()+60),e=3600*l(n)+60*n.getMinutes()+n.getSeconds()+t,a=Math.floor(e/86.4);return a>1e3&&(a-=1e3),a<0&&(a+=1e3),1==String(a).length&&(a="00"+a),2==String(a).length&&(a="0"+a),a},g:function(){return l(n)%12||12},G:function(){return l(n)},h:function(){return a(s.g(),2)},H:function(){return a(l(n),2)},i:function(){return a(n.getMinutes(),2)},s:function(){return a(n.getSeconds(),2)},O:function(){var t=a(Math.abs(n.getTimezoneOffset()/60*100),4);return t=n.getTimezoneOffset()>0?"-"+t:"+"+t,t},P:function(){var t=s.O();return t.substr(0,3)+":"+t.substr(3,2)},c:function(){return s.Y()+"-"+s.m()+"-"+s.d()+"T"+s.h()+":"+s.i()+":"+s.s()+s.P()},U:function(){return Math.round(n.getTime()/1e3)}};function l(t){return t.getHours()}var c="";return t.replace(/[\\]?([a-zA-Z])/g,function(t,e){return c=t!=e?e:s[e]?s[e]():e,c})}var H=A,M={name:"cus-time",props:{realTime:{type:Number,default:function(){return 0}}},data:function(){return{currentTime:"",count:0,timer:null}},watch:{realTime:function(t,e){var n=this;t!=e&&(this.count=0,this.currentTime=t,null===this.timer&&(this.timer=setInterval(function(){n.getCurrentTime()},1e3)))}},methods:{getCurrentTime:function(){this.count++,this.currentTime=this.realTime+1e3*this.count}},beforeDestroy:function(){window.clearInterval(this.timer),this.timer=null},filters:{timeFilter:function(t){return H("Y年m月d日  H:i:s",t)+"  "+H("l",t)}}},W=M,z=Object(u["a"])(W,T,P,!1,null,"06251c19",null),L=z.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pieChart"},[n("chart",{attrs:{option:t.option}})],1)},E=[],q=(n("7209"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lchart"},[n("div",{ref:"cpChart",attrs:{id:"cp_chart"}})])}),B=[],Y=n("24ce"),R=n.n(Y),J=(n("11fd"),{name:"lchart",components:{},props:{option:{type:Object,default:function(){return{}}}},data:function(){return{chartMap:null}},created:function(){},mounted:function(){var t=this;window.addEventListener("resize",function(){t.chartMap.resize()})},watch:{option:{handler:function(){var t=this;this.$nextTick(function(){t.onDraw()})},deep:!0}},methods:{onDraw:function(){this.chartMap||(this.chartMap=R.a.init(this.$refs.cpChart)),this.chartMap.setOption(this.option)}},beforeDestroy:function(){this.chartMap.clear(),this.chartMap=null}}),U=J,G=(n("0384"),Object(u["a"])(U,q,B,!1,null,"41908ca9",null)),X=G.exports,Z={name:"pieChart",data:function(){return{option:{}}},props:{pieData:{type:Object,default:function(){return{allCount:0,status:[]}}}},components:{chart:X},created:function(){},mounted:function(){this.setOptions()},watch:{pieData:{handler:function(){this.setOptions()},deep:!0}},methods:{setOptions:function(){for(var t=this.pieData.status,e=[],n=0;n<t.length;n++){var a=t[n];e.push({value:a.value,name:a.name},{value:-1,name:"",itemStyle:{normal:{label:{show:!1},labelLine:{show:!1},color:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)",borderWidth:0}}})}var i=0;this.pieData.status[0]&&this.pieData.status[0].value&&(i=parseInt(this.pieData.status[0].value/this.pieData.allCount*100)),this.option={color:["#6FF9BC","#F1FEA6","#73FFFE"],title:{height:100,text:"".concat(this.pieData.allCount,"单"),subtext:"{sub|".concat(i,"%完成率}"),textStyle:{color:"#fff",fontSize:24,align:"center"},subtextStyle:{color:"rgba(255, 255, 255, 0.8)",fontSize:18,rich:{sub:{height:16,fontSize:14,color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(18, 133, 254, 0.4)",backgroundColor:"rgba(18, 133, 254, 0.3)",borderWidth:1,padding:[5,8],borderRadius:16}}},x:"center",y:"39%"},series:[{radius:["50%","62%"],center:["50%","50%"],type:"pie",minAngle:10,startAngle:60,label:{normal:{show:!0,formatter:function(t){return-1==t.value?"":t.value+"\n{name|"+t.name+"}"},rich:{name:{color:"rgba(255, 255, 255, 0.7)"}},textStyle:{fontSize:"20",color:"#fff",lineHeight:20},position:"outside"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:15},emphasis:{show:!0}},data:e},{name:"外边框",type:"pie",clockWise:!1,hoverAnimation:!1,center:["50%","50%"],radius:["70%","70%"],label:{normal:{show:!1}},data:[{value:1,name:"",itemStyle:{normal:{borderWidth:2,borderColor:"#0b5263"}}}]}]}}}},K=Z,Q=(n("c48a"),Object(u["a"])(K,$,E,!1,null,"6b5db735",null)),tt=Q.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lineChart"},[n("chart",{attrs:{option:t.option}})],1)},nt=[],at={name:"lineChart",data:function(){return{option:{}}},props:{lineData:{type:Object,default:function(){return{day:[],install_count:[],repair_count:[]}}}},components:{chart:X},created:function(){},mounted:function(){this.setOptions()},watch:{lineData:{handler:function(){this.setOptions()},deep:!0}},methods:{setOptions:function(){this.option={title:{text:"(2019)",textStyle:{color:"#fff",fontSize:12,align:"center"},x:"center",y:"90%"},grid:{top:"25%",bottom:"22%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,fontSize:10}}},legend:{data:["安装工单","维修工单"],top:"7%",right:"5%",textStyle:{color:"#ffffff"}},xAxis:{data:this.lineData.day,splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255, 255, 255, 0)"}},axisTick:{show:!1},axisLabel:{show:!0,textStyle:{fontSize:10,color:"#FFFFFF"}}},yAxis:{type:"value",name:"",nameTextStyle:{color:"#ebf8ac"},splitLine:{show:!0,lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,textStyle:{color:"#ebf8ac",fontSize:10}}},series:[{name:"安装工单",type:"line",showAllSymbol:!0,symbol:"circle",symbolSize:5,itemStyle:{color:"#6FF9BC"},lineStyle:{color:"#6FF9BC",shadowColor:"rgba(0, 0, 0, 0.6)",shadowBlur:1,shadowOffsetY:15},data:this.lineData.install_count},{name:"维修工单",type:"line",showAllSymbol:!0,symbol:"circle",symbolSize:5,itemStyle:{color:"#F1FEA6"},lineStyle:{color:"#F1FEA6",shadowColor:"rgba(0, 0, 0, 0.6)",shadowBlur:1,shadowOffsetY:15},data:this.lineData.repair_count}]}}}},it=at,ot=(n("6389"),Object(u["a"])(it,et,nt,!1,null,"213bac25",null)),rt=ot.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"chart-panel"}})},lt=[],ct=(n("4453"),n("089b")),ut=n("51a4"),ft={data:function(){return{}},mounted:function(){var t="data-china.json",e="data-hainan.json",n="data-xizang.json",a="data-zhejiang.json",i="data-yunnan.json",o="data-xinjiang.json",r="data-tianjin.json",s="data-sichuan.json",l="data-shanxi.json",c="data-shanxi.json",u="data-shanghai.json",f="data-shangdong.json",h="data-qinghai.json",d="data-ningxia.json",m="data-neimenggu.json",p="data-liaoning.json",g="data-jilin.json",v="data-jiangxi.json",y="data-jiangsu.json",b="data-hunan.json",x="data-hubei.json",_="data-henan.json",w="data-heilongjiang.json",I="data-hebei.json",C="data-guizhou.json",O="data-guangxi.json",j="data-guangdong.json",S="data-gansu.json",V="data-chongqing.json",F="data-aomen.json",k="data-anhui.json",D="data-beijing.json",N="data-fujian.json",T="data-xianggang.json",P=this.$get;R.a.extendsMap=function(A,H){var M=this;return Object(ct["a"])(regeneratorRuntime.mark(function W(){var z,L,$,E,q,B,Y,J,U,G,X,Z,K;return regeneratorRuntime.wrap(function(W){while(1)switch(W.prev=W.next){case 0:return z=M.init(document.getElementById(A)),L=new BMap.Geocoder,$={},E={"中国":t,"上海":u,"河北":I,"山西":c,"内蒙古":m,"辽宁":p,"吉林":g,"黑龙江":w,"江苏":y,"浙江":a,"安徽":k,"福建":N,"江西":v,"山东":f,"河南":_,"湖北":x,"湖南":b,"广东":j,"广西":O,"海南":e,"四川":s,"贵州":C,"云南":i,"西藏":n,"陕西":l,"甘肃":S,"青海":h,"宁夏":d,"新疆":o,"北京":D,"天津":r,"重庆":V,"香港":T,"澳门":F},q={mapName:"china",goDown:!1,bgColor:"#404a59",activeArea:[],data:[],callback:function(t,e,n){console.log(t,e,n)}},H&&(H=M.util.extend(q,H)),B=[H.mapName],Y=0,J={leftPlus:115,leftCur:150,left:198,top:50},U=[[0,0],[8,11],[0,22]],G={font:'18px "Microsoft YaHei", sans-serif',textColor:"#eee",lineColor:"rgba(147, 235, 248, .8)"},X={resetOption:function(t,e,n){var a=this;Object(ct["a"])(regeneratorRuntime.mark(function i(){var o,r,s,l,c;return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if(o=a.createBreadcrumb(n),r=B.indexOf(n),s=e.graphic.length,!(r<0)){i.next=21;break}if(e.graphic.push(o),e.graphic[0].children[0].shape.x2=145,e.graphic[0].children[1].shape.x2=145,!(e.graphic.length>2)){i.next=17;break}for(l=[],c=0;c<H.data.length;c++)H.data[c].city.indexOf(n)>-1&&l.push(H.data[c]);if(null==l){i.next=16;break}return i.next=13,X.initSeriesData(l);case 13:e.series[0].data=i.sent,i.next=17;break;case 16:e.series[0].data=[];case 17:B.push(n),Y++,i.next=31;break;case 21:if(e.graphic.splice(r+2,s),!(e.graphic.length<=2)){i.next=28;break}return e.graphic[0].children[0].shape.x2=60,e.graphic[0].children[1].shape.x2=60,i.next=27,X.initSeriesData(H.data);case 27:e.series[0].data=i.sent;case 28:B.splice(r+1,s),Y=r,J.leftCur-=J.leftPlus*(s-r-1);case 31:e.geo.map=n,e.geo.zoom=.4,t.clear(),t.setOption(e),a.zoomAnimation(),H.callback(n,e,t);case 37:case"end":return i.stop()}},i)}))()},createBreadcrumb:function(t){var e={"中国":"zhongguo","上海":"shanghai","河北":"hebei","山西":"shangxi","内蒙古":"neimenggu","辽宁":"liaoning","吉林":"jilin","黑龙江":"heilongjiang","江苏":"jiangsu","浙江":"zhejiang","安徽":"anhui","福建":"fujian","江西":"jiangxi","山东":"shangdong","河南":"henan","湖北":"hubei","湖南":"hunan","广东":"guangdong","广西":"guangxi","海南":"hainan","四川":"sichuan","贵州":"guizhou","云南":"yunnan","西藏":"xizang","陕西":"shanxi","甘肃":"gansu","青海":"qinghai","宁夏":"ningxia","新疆":"xinjiang","北京":"beijing","天津":"tianjin","重庆":"chongqing","香港":"xianggang","澳门":"aomen"},n={type:"group",id:t,left:J.leftCur+J.leftPlus,top:J.top+3,children:[{type:"polyline",left:-90,top:-5,shape:{points:U},style:{stroke:"#fff",key:t},onclick:function(){var t=this.style.key;X.resetOption(z,K,t)}},{type:"text",left:-68,top:"middle",style:{text:t,textAlign:"center",fill:G.textColor,font:G.font},onclick:function(){var t=this.style.text;X.resetOption(z,K,t)}},{type:"text",left:-68,top:10,style:{name:t,text:e[t]?e[t].toUpperCase():"",textAlign:"center",fill:G.textColor,font:'12px "Microsoft YaHei", sans-serif'},onclick:function(){var t=this.style.name;X.resetOption(z,K,t)}}]};return J.leftCur+=J.leftPlus,n},initSeriesData:function(t){var e=[];return Object(ct["a"])(regeneratorRuntime.mark(function n(){var a,i,o;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:a=0;case 1:if(!(a<t.length)){n.next=11;break}return i={},n.next=5,new ut["Promise"](function(e){L.getPoint("".concat(t[a].city).concat(t[a].name).concat(t[a].position),function(t){e(t)})});case 5:o=n.sent,i=o,"{}"!=JSON.stringify(i)&&e.push({name:t[a].name,value:[i.lng,i.lat,t[a].value],company:t[a].company,position:t[a].position,region:t[a].region});case 8:a++,n.next=1;break;case 11:return console.log(e),n.abrupt("return",e);case 13:case"end":return n.stop()}},n)}))()},zoomAnimation:function(){var t=null,e=function e(n){t||(t=n),t+=n,z.setOption({geo:{zoom:t}}),t<1&&window.requestAnimationFrame(function(){e(.2)})};window.requestAnimationFrame(function(){e(.2)})}},W.next=14,X.initSeriesData(H.data);case 14:return Z=W.sent,K={backgroundColor:H.bgColor,tooltip:{show:!0,trigger:"item",alwaysShowContent:!1,backgroundColor:"rgba(50,50,50,0.7)",hideDelay:100,triggerOn:"mousemove",enterable:!0,formatter:function(t){return"所在城市："+t.data.name+"<br/>公司名称："+t.data.company+"<br/>具体位置："+t.data.position}},graphic:[{type:"group",left:J.left,top:J.top-4,children:[{type:"line",left:0,top:-20,shape:{x1:0,y1:0,x2:60,y2:0},style:{stroke:G.lineColor}},{type:"line",left:0,top:20,shape:{x1:0,y1:0,x2:60,y2:0},style:{stroke:G.lineColor}}]},{id:B[Y],type:"group",left:J.left+2,top:J.top,children:[{type:"polyline",left:90,top:-12,shape:{points:U},style:{stroke:"transparent",key:B[0]},onclick:function(){var t=this.style.key;X.resetOption(z,K,t)}},{type:"text",left:0,top:"middle",style:{text:"中国",textAlign:"center",fill:G.textColor,font:G.font},onclick:function(){X.resetOption(z,K,"中国")}},{type:"text",left:0,top:10,style:{text:"China",textAlign:"center",fill:G.textColor,font:'12px "Microsoft YaHei", sans-serif'},onclick:function(){X.resetOption(z,K,"中国")}}]}],geo:{map:H.mapName,roam:!0,zoom:1,label:{normal:{show:!0,textStyle:{color:"#fff"}},emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}},regions:H.activeArea.map(function(t){return"string"!==typeof t?{name:t.name,itemStyle:{normal:{areaColor:t.areaColor||"#389BB7"}},label:{normal:{show:t.showLabel,textStyle:{color:"#fff"}}}}:{name:t,itemStyle:{normal:{borderColor:"#91e6ff",areaColor:"#389BB7"}}}})},series:[{type:"effectScatter",coordinateSystem:"geo",showEffectOn:"render",rippleEffect:{period:15,scale:4,brushType:"fill"},hoverAnimation:!0,itemStyle:{normal:{color:"#FFC848",shadowBlur:10,shadowColor:"#333"}},data:Z}]},z.setOption(K),z.on("click",function(t){console.log(t);var e=this;if(H.goDown&&t.name!==B[Y]&&E[t.name]){var n=E[t.name];P("/panelData/map/".concat(n),{},{},!0).then(function(n){$=n,R.a.registerMap(t.name,$),X.resetOption(e,K,t.name)})}}),z.setMap=function(t){var e=this;t.indexOf("市")<0&&(t+="市");var n=E[t];n&&P("/panelData/map/".concat(n),{},{},!0).then(function(n){$=n,R.a.registerMap(t,$),X.resetOption(e,K,t)})},window.addEventListener("resize",function(){z.resize()}),W.abrupt("return",z);case 21:case"end":return W.stop()}},W)}))()},this.$post("/store/distribute",{},{},!0).then(function(e){console.log(e),e.data?P("/panelData/map/".concat(t),{},{},!0).then(function(t){R.a.registerMap("中国",t),R.a.extendsMap("chart-panel",{bgColor:"",mapName:"中国",text:"火电业务",goDown:!0,callback:function(t,e,n){console.log(t,e,n)},data:e.data.map(function(t){return{city:t.region_name.split(" ")[0],name:t.region_name.split(" ")[1],value:60,company:t.name,position:t.address,region:""}})})}):window.location.replace("http://".concat(window.location.host,"/login"))})}},ht=ft,dt=(n("7374"),Object(u["a"])(ht,st,lt,!1,null,"c4e88908",null)),mt=dt.exports,pt={name:"home",components:{customDiv:_,TextView:N,PieChart:tt,CityMap:mt,LineChart:rt,TimeView:L},data:function(){return{screenTimer:null,chinaMap:"",WOrh:{width:15,height:15},screenInfo:{},homeInfo:{servInfo:[{title:"今日服务(人次)",localnum:0,num:0,badge:0,percent:"0%"},{title:"累计服务(人次)",localnum:0,num:0,badge:0,percent:"0%"}],todayInfo:[{title:"交易金额(元)",localnum:0,num:0,badge:0,percent:"0%"},{title:"交易笔数(笔)",localnum:0,num:0,badge:0,percent:"0%"}],cumulative:[{title:"交易金额(元)",localnum:0,num:0,badge:0,percent:"0%"},{title:"交易笔数(笔)",localnum:0,num:0,badge:0,percent:"0%"}]},orderData:[],lastOrderId:null,workOrderPie:{allCount:0,status:[{name:"已完成(单)",value:0},{name:"待分派(单)",value:0},{name:"服务中(单)",value:0}]},orderPie:{allCount:0,status:[{name:"已完成(单)",value:0},{name:"待发货(单)",value:0},{name:"已发货(单)",value:0}]},servNum:{servNum:0,shopNum:0,afterSale:0},maplnglat:{dealers:[],installers:[]},liItemLength:0,liItem2Length:0}},created:function(){var t=this;this.getScreenData(),null===this.screenTimer&&(this.screenTimer=setInterval(function(){t.getScreenData()},5e3))},mounted:function(){var t=this;this.liItemLength=parseInt((.26*document.documentElement.clientHeight-this.$refs.title.clientHeight-this.$refs.stitle.clientHeight)/29),this.liItem2Length=parseInt((.4*this.$refs.bottomdiv.clientHeight-this.$refs.ultwo.clientHeight)/29),window.onresize=function(){t.liItemLength=parseInt((.26*document.documentElement.clientHeight-t.$refs.title.clientHeight-t.$refs.stitle.clientHeight)/29),t.liItem2Length=parseInt((.4*t.$refs.bottomdiv.clientHeight-t.$refs.ultwo.clientHeight)/29)}},methods:{getScreenData:function(){var t=this;this.$post("screen/index",{last_order_id:this.lastOrderId}).then(function(e){t.screenInfo=e.return,t.updateOrder(),t.updateHomeTop(),t.initPie(),t.maplnglat=t.screenInfo.map,t.servNum.servNum=t.screenInfo.store.servicer_count,t.servNum.shopNum=t.screenInfo.store.dealer_count,t.servNum.afterSale=t.screenInfo.user_installer.installer_count}).catch(function(t){console.log("screen/index调用失败",t)})},initPie:function(){this.workOrderPie={allCount:this.screenInfo.work_order.allserv_count,status:[{name:"已完成(单)",value:this.screenInfo.work_order.finish_count},{name:"待分派(单)",value:this.screenInfo.work_order.pendding_count},{name:"服务中(单)",value:this.screenInfo.work_order.service_count}]},this.orderPie={allCount:this.screenInfo.order.total_count,status:[{name:"已完成(单)",value:this.screenInfo.order.finish_count},{name:"待发货(单)",value:this.screenInfo.order.pendding_count},{name:"已发货(单)",value:this.screenInfo.order.delivery_count}]}},updateHomeTop:function(){this.homeInfo.servInfo[0].localnum=Number(this.homeInfo.servInfo[0].num||0),this.homeInfo.servInfo[0].num=Number(this.screenInfo.work_order.today_count),this.homeInfo.servInfo[0].percent=this.screenInfo.work_order.today_count_percent,this.homeInfo.servInfo[1].localnum=Number(this.homeInfo.servInfo[1].num||0),this.homeInfo.servInfo[1].num=Number(this.screenInfo.work_order.total_count),this.homeInfo.todayInfo[0].localnum=Number(this.homeInfo.todayInfo[0].num||0),this.homeInfo.todayInfo[0].num=Number(this.screenInfo.order.today_amount),this.homeInfo.todayInfo[0].percent=this.screenInfo.order.today_amount_percent,this.homeInfo.todayInfo[1].localnum=Number(this.homeInfo.todayInfo[1].num||0),this.homeInfo.todayInfo[1].num=Number(this.screenInfo.order.today_count),this.homeInfo.todayInfo[1].percent=this.screenInfo.order.today_count_percent,this.homeInfo.cumulative[0].localnum=Number(this.homeInfo.cumulative[0].num||0),this.homeInfo.cumulative[0].num=Number(this.screenInfo.order.total_amount),this.homeInfo.cumulative[0].percent=this.screenInfo.order.total_amount_percent,this.homeInfo.cumulative[1].localnum=Number(this.homeInfo.cumulative[1].num||0),this.homeInfo.cumulative[1].num=Number(this.screenInfo.order.total_count),this.homeInfo.cumulative[1].percent=this.screenInfo.order.total_count_percent},updateOrder:function(){var t=this;if(this.lastOrderId){var e=this.screenInfo.orders.filter(function(t){return 1==t.is_new});e.forEach(function(e){t.orderData.unshift(e)})}else for(var n=function(e){setTimeout(function(){t.orderData.push(t.screenInfo.orders[e])},200*e)},a=0;a<this.screenInfo.orders.length;a++)n(a);this.lastOrderId=this.screenInfo.orders[0].order_id||null}},beforeDestroy:function(){window.clearInterval(this.screenTimer),this.screenTimer=null,this.lastOrderId=null},filters:{decimalsFilter:function(t){var e=String(t).indexOf(".");return e>=0?String(t).split(".")[1].length:0}}},gt=pt,vt=(n("9ac3"),Object(u["a"])(gt,m,p,!1,null,"114ff34f",null)),yt=vt.exports;o["a"].use(d["a"]);var bt=new d["a"]({routes:[{path:"/",component:yt},{path:"/home",name:"home",component:yt}]}),xt=n("591a");o["a"].use(xt["a"]);var _t=new xt["a"].Store({state:{},mutations:{},actions:{}}),wt=(n("44ce"),n("7f43")),It=n.n(wt),Ct=n("fed1"),Ot=n.n(Ct),jt="http://api.imliuchang.cn/";function St(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n=n||{},new Promise(function(i,o){It.a.post("".concat(a?"":jt).concat(t),e,n).then(function(t){t&&i(t.data)}).catch(function(t){o(t)})})}function Vt(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n=n||{},new Promise(function(i,o){It.a.get("".concat(a?"":jt).concat(t),{params:e},n).then(function(t){t&&i(t.data)}).catch(function(t){o(t)})})}It.a.defaults.timeout=12e4,It.a.defaults.withCredentials=!0,It.a.interceptors.request.use(function(t){return t.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8","post"===t.method&&(t.data=Ot.a.stringify(t.data)),t},function(t){return Promise.reject(t)}),o["a"].config.productionTip=!1,o["a"].prototype.$post=St,o["a"].prototype.$get=Vt,new o["a"]({router:bt,store:_t,render:function(t){return t(h)}}).$mount("#app")},6389:function(t,e,n){"use strict";var a=n("669d"),i=n.n(a);i.a},"669d":function(t,e,n){},6730:function(t,e,n){},7374:function(t,e,n){"use strict";var a=n("6730"),i=n.n(a);i.a},7771:function(t,e,n){},"7c55":function(t,e,n){"use strict";var a=n("3337"),i=n.n(a);i.a},"85c8":function(t,e,n){},"9ac3":function(t,e,n){"use strict";var a=n("f7f1"),i=n.n(a);i.a},b22b:function(t,e,n){"use strict";var a=n("7771"),i=n.n(a);i.a},c454:function(t,e,n){},c48a:function(t,e,n){"use strict";var a=n("85c8"),i=n.n(a);i.a},d4c8:function(t,e,n){"use strict";var a=n("f39d"),i=n.n(a);i.a},f39d:function(t,e,n){},f7f1:function(t,e,n){},fd0e:function(t,e,n){}});